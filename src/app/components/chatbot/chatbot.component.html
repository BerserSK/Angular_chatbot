<div class="container mt-4 chatbot-container">
  <h3 class="text-center mb-3"><i class="bi bi-robot me-2"></i>Chatbot Educativo</h3>

  <div class="chat-box p-3 rounded shadow-sm bg-white d-flex flex-column">
    <div *ngFor="let mensaje of mensajes">
      <div [ngClass]="{ 'user-msg': mensaje.emisor === 'Usuario', 'bot-msg': mensaje.emisor === 'Bot' }">
        <i class="bi" [ngClass]="mensaje.emisor === 'Usuario' ? 'bi-person-circle' : 'bi-robot'"></i>
        <span class="ms-2">{{ mensaje.texto }}</span>
      </div>
    </div>

    <!-- Opciones dinÃ¡micas -->
    <div class="options mt-3" *ngIf="ultimasOpciones.length > 0">
      <div class="d-flex flex-wrap gap-2">
        <button
          class="btn btn-outline-secondary btn-sm"
          *ngFor="let opcion of ultimasOpciones"
          (click)="enviar(opcion.pregunta)">
          <i class="bi bi-chat-dots me-1"></i>{{ opcion.texto }}
        </button>
      </div>
    </div>
  </div>

  <!-- Input de pregunta -->
  <div class="input-group mt-3">
    <input
      [(ngModel)]="pregunta"
      class="form-control"
      placeholder="Escribe tu pregunta..."
      (keyup.enter)="enviar(pregunta)"
    />
    <button class="btn btn-primary" (click)="enviar(pregunta)">
      <i class="bi bi-send-fill"></i>
    </button>
  </div>
</div>
